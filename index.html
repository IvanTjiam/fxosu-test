<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Test app</title>
    <meta name="description" content="FxOSU Test App">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/app.css">
    <script type="text/javascript" src="js/app.js" defer></script>
    <script type="text/javascript" src="js/tabcontent.js" defer></script>
    <link rel="prefetch" type="application/l10n" href="data/locales.ini" />
    <script type="text/javascript" src="js/libs/l10n.js" defer></script>
  </head>
  <body>
    <div style="max-width: 700px; margin: 0 auto 0 auto;">
      <div id="header">
        <h2 data-l10n-id="app_title"></h2>
        <p data-l10n-id="app_description"></p>
      </div>
      <ul class="tabs" data-persist="true">
        <li><a href="#benchmark">Benchmark</a></li>
        <li><a href="#fxosuservice">API</a></li>
      </ul>
      <div class="tabcontents">
        <div id="benchmark">
          <h3 style="margin-top: -10px;">FxOSUService Benchmark</h3>
          <p>Contrasts resource usage with/without our API.</p>

          <form>
            <label>Confidence Level: </label>
            <select style="width: 50%; height: 30px; font-size: 1em;" id="benchmarkLevel">
              <option>1 - High</option>
              <option selected="selected">2 - Moderate</option>
              <option>3 - Low</option>
            </select>
          </form><br>
          <center><button id="runbenchmark">Run Benchmark Test</button></center>
          <svg width="100%" height="20px" style="margin-top: 10px;">
            <rect width="100%" height="20px" style="fill:rgb(0,0,0);" />
            <rect id="progress" width="0%" height="20px" style="fill:rgb(0,0,255);" />
          </svg>
          <table style="padding: 5px;">
          <tr style="padding: 5px;">
            <th style="text-align: left; padding: 5px;">Network: </th>
            <td style="padding: 5px;" id="netStatus"></td>
            <td style="padding: 5px;" id="intStatus"></td>
          </tr>
          <tr style="padding: 5px;">
            <td style="text-align: left; padding: 5px;">Usage</td>
            <th style="text-align: left; padding: 5px;">without</th>
            <th style="text-align: left; padding: 5px;">with</th>
          </tr>
          <tr style="padding: 5px;">
            <th style="text-align: left; padding: 5px;">Success Rate</th>
            <td style="padding: 5px;" id="sucWithout"></td>
            <td style="padding: 5px;" id="sucWith"></td>
          </tr>
          <tr style="padding: 5px;">
            <th style="text-align: left; padding: 5px;">Attempts</th>
            <td style="padding: 5px;" id="attemptsWithout"></td>
            <td style="padding: 5px;" id="attemptsWith"></td>
          </tr>
          <tr style="padding: 5px;">
            <th style="text-align: left; padding: 5px;">Successes</th>
            <td style="padding: 5px;" id="successesWithout"></td>
            <td style="padding: 5px;" id="successesWith"></td>
          </tr>
          <tr style="padding: 5px;">
            <th style="text-align: left; padding: 5px;">Battery</th>
            <td style="padding: 5px;" id="batWithout"></td>
            <td style="padding: 5px;" id="batWith"></td>
          </tr>
          <tr style="padding: 5px;">
            <th style="text-align: left; padding: 5px;">Memory</th>
            <td style="padding: 5px;" id="memWithout"></td>
            <td style="padding: 5px;" id="memWith"></td>
          </tr>
          <tr style="padding: 5px;">
            <th style="text-align: left; padding: 5px;">Data Rx</th>
            <td style="padding: 5px;" id="dataWithout"></td>
            <td style="padding: 5px;" id="dataWith"></td>
          </tr>
          <tr style="padding: 5px;">
            <th style="text-align: left; padding: 5px;">Average Latency</th>
            <td style="padding: 5px;" id="latWithout"></td>
            <td style="padding: 5px;" id="latWith"></td>
          </tr>
          </table>
        </div>    
        <div id="fxosuservice">
          <p><h3 style="margin-top: -10px;">API Test</h3></p>
          <button id="fxosutest">Test</button>
          <p>
            <h3>Internal API functions</h3>
            <table>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Battery Level: </th>
                <td style="margin: 5px;" id="batlevel"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Battery Charging: </th>
                <td style="margin: 5px;" id="batcharge"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Connected to Internet: </th>
                <td style="margin: 5px;" id="connected"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Latency (ms): </th>
                <td style="margin: 5px;" id="latency"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Connection type: </th>
                <td style="margin: 5px;" id="ctype"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Bytes Received: </th>
                <td style="margin: 5px;" id="recbytes"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Connection Stable: </th>
                <td style="margin: 5px;" id="cstable"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Success Rate: </th>
                <td style="margin: 5px;" id="successrate"></td>
              </tr>
            </table>

            <h3>Calling of mozIsNowGood()</h3>
            This API allows the developer to set a level of certainty with 1 being high, 2 being moderate, and 3 being low. This returns a true/false (go/no-go) answer.<br><br>
            <table>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">High Certainty: </th>
                <td style="margin: 5px;" id="high"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Moderate Certainty: </th>
                <td style="margin: 5px;" id="mod"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Low Certainty: </th>
                <td style="margin: 5px;" id="low"></td>
              </tr>
            </table><br>

            Here is the data being used from the past 2 seconds, to make these determinations:<br><br>
            <table>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Battery Level: </th>
                <td style="margin: 5px;" id="mozbatlevel"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Battery Charging: </th>
                <td style="margin: 5px;" id="mozbatcharge"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Connection Stable: </th>
                <td style="margin: 5px;" id="mozcstable"></td>
              </tr>
              <tr>
                <th style="text-align: left; vertical-align: text-top;">Success Rate: </th>
                <td style="margin: 5px;" id="mozsuccessrate"></td>
              </tr>
            </table>
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
